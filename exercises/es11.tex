\begin{exercise}{
    Let $\poset{P}{\leq}$ a poset with bottom $\bot$. A subset $S \subseteq P$ is \textit{down-closed} if
    \[ \forall x \in S.\ \forall y \in P.\ (y \leq x \implies y \in S) \]
    Observe, in particular, that $\varnothing$ is down-closed. \\
    Let us define $dc(P) = \left\{S \in P \mid S \text{ is down-closed}\right\}$.
    \begin{enumerate}
        \item[\textbf{A.}] Prove that $\poset{dc(P)}{\subseteq}$ is a CPO.
    \end{enumerate}
    Consider now the powerset CPO $\poset{\wp(P)}{\subseteq}$ and the function $f : \wp(P) \to dc(P)$ defined as follows:
    \[ f(X) = \left\{ p \in P \mid \exists x \in X.\ p \leq x \right\} \]
    \begin{enumerate}
        \item[\textbf{B.}] Prove that $f$ is well defined, i.e., for any $X \in \wp(P), f(X) \in dc(P)$.
        \item[\textbf{C.}] Prove that $f$ is continuous.
    \end{enumerate}
}
    \begin{enumerate}
        \item[\textbf{A.}]
            Given a chain $Y \subseteq dp(P)$ we can show that the least upper bound exists and is $\cup_{S \in Y} S$.
            \begin{itemize}
                \item $\cup_{S \in Y} S \in dp(P)$
                    If $x \in \cup_{S \in Y}$ then $\exists S \in Y.\ x \in S \in dp(P)$, thus
                    \[ \forall x \in S.\ \forall y \in P.\ y \leq x \implies y \in S \]
                    Since $x \in S$ and $y \in S \implies y \in \cup_{S \in Y} S$ we have:
                    \[ \forall x \in S.\ \forall y \in P.\ y \leq x \implies y \in \cup_{S \in Y} S \]
                    And thus $\cup_{S \in Y} S \in dp(P)$
                \item $\cup_{S \in Y} S$ is already the least upper bound with respect to $\subseteq$
            \end{itemize}
        \item[\textbf{B.}]
            Given $x \in f(X)$ and $y \in P$ we have $y \leq x$ and we want to show $y \in f(X)$. Since $x \in f(X)$ then $\exists z \in X.\ x \leq z$, then $y \leq x \leq z$ and thus $\exists z \in X.\ y \leq z$. So $y \in f(X)$ and $f$ is well defined.
        \item[\textbf{C.}]
            We want to show that $\forall Y \subseteq \wp(P).\ \cup \left\{f(X) \mid X \in Y\right\} = f(\cup Y)$. Given $Y \subseteq \wp(P)$:
            \begin{align*}
                &x \in \cup \left\{f(X) \mid X \in Y\right\} \\
                \iff& \exists X \in Y.\ x \in f(X) \\
                \iff& \exists X \in Y.\ \exists z \in X.\ x \leq z \\
                \iff& \exists z \in \cup Y.\ x \leq z \\
                \iff& x \in f(\cup Y)
            \end{align*}
            Thus $\cup \left\{f(X) \mid X \in Y\right\} = f(\cup Y)$
    \end{enumerate}
\end{exercise}
